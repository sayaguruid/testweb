<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesanan Berhasil - Toko Online</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
        <div class="container">
            <a class="navbar-brand" href="index.html">
                <i class="fas fa-store me-2"></i>Toko Online
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Beranda</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="track.html">Track Order</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="admin-login.html">Admin</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Success Section -->
    <section class="py-5">
        <div class="container">
            <div class="row justify-content-center">
                <div class="col-lg-8">
                    <!-- Success Card -->
                    <div class="card shadow border-success">
                        <div class="card-body text-center py-5">
                            <div class="success-icon mb-4">
                                <i class="fas fa-check-circle fa-5x text-success"></i>
                            </div>
                            <h2 class="mb-3">Pesanan Berhasil!</h2>
                            <p class="lead text-muted mb-4">
                                Terima kasih telah berbelanja di toko kami. Pesanan Anda telah diterima dan akan segera diproses.
                            </p>
                            
                            <!-- Order Information -->
                            <div class="alert alert-info text-start">
                                <h5 class="alert-heading">
                                    <i class="fas fa-info-circle me-2"></i>Informasi Pesanan
                                </h5>
                                <div class="row">
                                    <div class="col-md-6">
                                        <p class="mb-1"><strong>Order ID:</strong></p>
                                        <p class="mb-1"><strong>Tanggal:</strong></p>
                                        <p class="mb-0"><strong>Status:</strong></p>
                                    </div>
                                    <div class="col-md-6 text-md-end">
                                        <p class="mb-1"><span id="orderId" class="font-monospace"></span></p>
                                        <p class="mb-1" id="orderDate"></p>
                                        <p class="mb-0"><span class="badge bg-warning">Pending</span></p>
                                    </div>
                                </div>
                            </div>

                            <!-- Tracking Link -->
                            <div class="alert alert-success">
                                <h5 class="alert-heading">
                                    <i class="fas fa-link me-2"></i>Link Tracking Pesanan
                                </h5>
                                <p class="mb-3">
                                    Simpan link ini untuk melacak status pesanan Anda:
                                </p>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="trackingLink" readonly>
                                    <button class="btn btn-outline-secondary" type="button" onclick="copyTrackingLink()">
                                        <i class="fas fa-copy me-1"></i>Salin
                                    </button>
                                    <button class="btn btn-success" type="button" onclick="openTrackingLink()">
                                        <i class="fas fa-external-link-alt me-1"></i>Buka
                                    </button>
                                </div>
                            </div>

                            <!-- Next Steps -->
                            <div class="text-start mt-4">
                                <h5 class="mb-3">
                                    <i class="fas fa-tasks me-2"></i>Langkah Selanjutnya
                                </h5>
                                <div class="row">
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                                    <span class="fw-bold">1</span>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <h6 class="mb-1">Konfirmasi Pembayaran</h6>
                                                <small class="text-muted">Upload bukti pembayaran jika menggunakan QRIS atau Transfer</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                                    <span class="fw-bold">2</span>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <h6 class="mb-1">Proses Pesanan</h6>
                                                <small class="text-muted">Kami akan memproses pesanan Anda setelah pembayaran dikonfirmasi</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                                    <span class="fw-bold">3</span>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <h6 class="mb-1">Pengiriman</h6>
                                                <small class="text-muted">Pesanan akan dikirim menggunakan jasa ekspedisi terpercaya</small>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-md-6 mb-3">
                                        <div class="d-flex">
                                            <div class="flex-shrink-0">
                                                <div class="bg-primary text-white rounded-circle d-flex align-items-center justify-content-center" style="width: 40px; height: 40px;">
                                                    <span class="fw-bold">4</span>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <h6 class="mb-1">Pesanan Diterima</h6>
                                                <small class="text-muted">Pesanan sampai di tujuan dengan aman</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Action Buttons -->
                            <div class="d-grid gap-2 d-md-flex justify-content-md-center mt-4">
                                <button class="btn btn-primary btn-lg" onclick="openTrackingLink()">
                                    <i class="fas fa-search me-2"></i>Track Pesanan
                                </button>
                                <a href="index.html" class="btn btn-outline-secondary btn-lg">
                                    <i class="fas fa-shopping-bag me-2"></i>Lanjut Belanja
                                </a>
                            </div>
                        </div>
                    </div>

                    <!-- Contact Information -->
                    <div class="card shadow mt-4">
                        <div class="card-body">
                            <h5 class="card-title">
                                <i class="fas fa-headset me-2"></i>Butuh Bantuan?
                            </h5>
                            <p class="card-text">
                                Jika Anda memiliki pertanyaan atau mengalami masalah dengan pesanan, jangan ragu untuk menghubungi kami:
                            </p>
                            <div class="row">
                                <div class="col-md-4 text-center mb-3">
                                    <i class="fab fa-whatsapp fa-2x text-success mb-2"></i>
                                    <h6>WhatsApp</h6>
                                    <p class="mb-0">+62 812-3456-7890</p>
                                </div>
                                <div class="col-md-4 text-center mb-3">
                                    <i class="fas fa-phone fa-2x text-primary mb-2"></i>
                                    <h6>Telepon</h6>
                                    <p class="mb-0">021-1234-5678</p>
                                </div>
                                <div class="col-md-4 text-center mb-3">
                                    <i class="fas fa-envelope fa-2x text-danger mb-2"></i>
                                    <h6>Email</h6>
                                    <p class="mb-0">info@toko.com</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5>Toko Online</h5>
                    <p>Menyediakan produk berkualitas dengan harga terjangkau</p>
                </div>
                <div class="col-md-6 text-md-end">
                    <h5>Kontak</h5>
                    <p><i class="fab fa-whatsapp me-2"></i>WhatsApp: +62 812-3456-7890</p>
                    <p><i class="fas fa-envelope me-2"></i>Email: info@toko.com</p>
                </div>
            </div>
            <hr class="my-4">
            <div class="text-center">
                <p>&copy; 2024 Toko Online. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
    <script>
        // Load success data when page loads
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('order_id');
            const trackingLink = urlParams.get('tracking_link');
            
            if (orderId && trackingLink) {
                displaySuccessInfo(orderId, decodeURIComponent(trackingLink));
            } else {
                // Fallback data if parameters are missing
                displaySuccessInfo('ORD-XXXXXX', 'https://your-domain.com/track.html?id=ORD-XXXXXX');
            }
        });

        function displaySuccessInfo(orderId, trackingLink) {
            // Set order ID
            document.getElementById('orderId').textContent = orderId;
            
            // Set current date
            const currentDate = new Date();
            const formattedDate = currentDate.toLocaleDateString('id-ID', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            document.getElementById('orderDate').textContent = formattedDate;
            
            // Set tracking link
            document.getElementById('trackingLink').value = trackingLink;
            
            // Store tracking link for button functions
            window.currentTrackingLink = trackingLink;
        }

        function copyTrackingLink() {
            const trackingLinkInput = document.getElementById('trackingLink');
            trackingLinkInput.select();
            document.execCommand('copy');
            
            // Show success message
            const button = event.currentTarget;
            const originalText = button.innerHTML;
            button.innerHTML = '<i class="fas fa-check me-1"></i>Tersalin!';
            button.classList.remove('btn-outline-secondary');
            button.classList.add('btn-success');
            
            setTimeout(() => {
                button.innerHTML = originalText;
                button.classList.remove('btn-success');
                button.classList.add('btn-outline-secondary');
            }, 2000);
        }

        function openTrackingLink() {
            const trackingLink = document.getElementById('trackingLink').value;
            window.open(trackingLink, '_blank');
        }

        // Auto-save tracking link to localStorage for easy access
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const orderId = urlParams.get('order_id');
            const trackingLink = urlParams.get('tracking_link');
            
            if (orderId && trackingLink) {
                // Save to localStorage for future reference
                const orders = JSON.parse(localStorage.getItem('myOrders') || '[]');
                orders.push({
                    orderId: orderId,
                    trackingLink: decodeURIComponent(trackingLink),
                    date: new Date().toISOString()
                });
                localStorage.setItem('myOrders', JSON.stringify(orders));
            }
        });
    </script>
</body>
</html>
